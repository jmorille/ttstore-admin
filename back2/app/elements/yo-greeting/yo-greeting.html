<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-field/core-field.html">

<link rel="import" href="../../bower_components/geo-location/geo-location.html">
<link rel="import" href="../../bower_components/video-camera-element/dist/video-camera.html">

<polymer-element name="yo-greeting" attributes="">
  <template>
    <style>
      :host {
        display: block;
      }

    </style>
    <geo-location watchpos latitude="{{lat}}"
                  longitude="{{lng}}"></geo-location>

    <input type="file" accept="image/*;capture=camera">
    <device type="media" on-change="{{update()}}"></device>
    <video id="video" autoplay></video>

    <h1>{{ lat }}, {{ lng }}!</h1>
    <span>Update text to change the greeting.</span>
    <core-field>
      <label>I'm a label!</label>
      <input placeholder="I have a label" flex>
    </core-field>
    <input type="text" value="{{ greeting }}">
  </template>
  <script>
    (function () {
      Polymer({
        greeting : '\'Allo',
        update: function (stream) {
          this.$.video.src = stream.url;
        }
      });
    })();
  </script>
</polymer-element>
