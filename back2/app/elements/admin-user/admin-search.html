<link rel="import" href="../../bower_components/polymer/polymer.html">



<polymer-element name="admin-search" attributes="">
  <template>




    Search User
    <template id="request_query">
      <section horizontal layout>
        <core-field flex>
          <paper-input placeHolder="Search Text" value="{{searchText}}"
                       on-input="{{onSearchSuggest}}" flex></paper-input>
          <paper-icon-button icon="search" on-tap="{{searchReset}}"></paper-icon-button>
        </core-field>
        <paper-icon-button icon="add" label="Add" on-tap="{{addButtonHandler}}"></paper-icon-button>


        <paper-icon-button icon="settings-voice" label="Voice" on-tap="{{startVoiceRecognition}}">
        <paper-icon-button id="filter_panel_button" icon="filter-list" label="Filters"
                           on-tap="{{toggleFilter}}">
        </paper-icon-button>
      </section>
    </template>


    <div main flex>
      <template bind ref="request_query"></template>

      <tt-table-flexbox data="{{data}}"  sort="{{sort}}"  on-sort="{{sortHandler}}">
        <tt-column column="lastname" sortable="$.raw" classNames="u-Flex-grow2">Nom</tt-column>
        <tt-column column="firstname" sortable="$.raw">Prénom</tt-column>
        <div action>
          Action sss
        </div>
      </tt-table-flexbox>
    </div>



  </template>

  <script>

    Polymer({
      searchText: undefined,
      created: function () {
        this.columns = [
          {column:"firstname", title:"Nom", sortable:'firstname.raw', classNames:"u-Flex-grow2"},
          {column:"lastname", title: "Prénom", classNames:"u-Flex-grow2"},
          {column:"email", title:"Email"}
        ];
        this.data = [
          {_id: '1', _source: {firstname: 'Nom 1', lastname: 'Prénom 1', email: 'Email-1@gmail.com'}},
          {_id: '2:', _source: {firstname: 'Nom 2', lastname: 'Prénom 2', email: 'Email-2@gmail.com'}},
          {_id: '3:', _source: {firstname: 'Nom 3', lastname: 'Prénom 3', email: 'Email-3@gmail.com'}},
          {_id: '4:', _source: {firstname: 'Nom 4', lastname: 'Prénom 4', email: 'Email-4@gmail.com'}},
          {_id: '5:', _source: {firstname: 'Nom 5', lastname: 'Prénom 5', email: 'Email-5@gmail.com'}},
          {_id: '6:', _source: {firstname: 'Nom 6', lastname: 'Prénom 6', email: 'Email-6@gmail.com'}}
        ];
        this.sort = ['firstname.raw'];
      },
      sortHandler: function (event, data, sender) {
        var sort = {sort: [ data.column + ":" + data.order ]};
        console.log("sortHandler", data);
       // this.search(sort);
      }

//      handleVoiceRecognition: function (event, data) {
//        this.searchText = data.result;
//        _id.log('voice-recognition', data.result);
//      },
//      startVoiceRecognition: function () {
//        this.$.voiceRecognition.start();
//      }

    });

  </script>
</polymer-element>
