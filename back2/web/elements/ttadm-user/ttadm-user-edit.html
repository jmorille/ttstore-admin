<link rel="import" href="../../bower_components/polymer/polymer.html">


<polymer-element name="ttadm-user-edit" attributes="entityid">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <!-- Service URI-->
    <ttadm-app-globals id="globals"></ttadm-app-globals>

    <ttadmin-layout-edit routeback="user" bannertitle="User" bannericon="supervisor-account">
      <!-- Banner Title -->
      <div bannertitle>
        <core-icon icon="supervisor-account"></core-icon>
        {{data._source.firstname}}, {{data._source.lastname}}
      </div>

      <!-- Edit From -->
      <tt-crud data="{{data}}" entityid="{{entityid}}"  endpoint="{{$.globals.apiUrl}}/s/users" autosave main>
        <section id="formContainer">
          <paper-input-decorator floatingLabel label="First name" autoValidate>
            <input is="core-input" value="{{ data._source.firstname}}" required>
          </paper-input-decorator>

          <paper-input-decorator floatingLabel label="Last name" autoValidate>
            <input is="core-input" value="{{ data._source.lastname}}" required>
          </paper-input-decorator>

          <paper-input-decorator floatingLabel label="Email" autoValidate>
            <input is="core-input" id="input2" value="{{data._source.email}}" type="email">
          </paper-input-decorator>

          <div on-tap="{{displayPhone}}">---- Phones ---</div>
          <template if="{{doDisplay}}">
            <paper-input-decorator floatingLabel label="Phone" autoValidate>
              <input is="core-input" value="{{ data._source.phone}}" type="phone">
            </paper-input-decorator>
          </template>
        </section>
      </tt-crud>


    </ttadmin-layout-edit>
  </template>

  <script>
    'use strict';
    Polymer('ttadm-user-edit', {  // jshint ignore:line
      doDisplay: false,
      saveStatus: null,
      displayPhone: function () {
        this.doDisplay = !this.doDisplay;
      }

    });

  </script>
</polymer-element>
