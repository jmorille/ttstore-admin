<!-- -->
<link rel="import" href="../components/polymer/polymer.html">


<polymer-element name="tt-sortcolumn" attributes="column">

    <template>
        <style>

            .arrow-up, .arrow-down {
                width: 0;
                height: 0;
                border-left: 6px solid transparent;
                border-right: 6px solid transparent;
                margin-left: 5px;
            }

            .arrow-up {
                border-bottom: 6px solid black;
            }

            .arrow-down {
                border-top: 6px solid black;
            }




        </style>
        <div horizontal layout>
            <div on-tap="{{sort}}"
                 aria-sort="{{ (asc === undefined) ? 'none' : ( asc ? 'ascending' : 'descending' ) }}"
                 aria-label="Title: {{asc ? 'activate to sort column descending' : 'activate to sort column ascending' }}"
                    >
                <content></content>
            </div>
            <span class="{{ (asc === undefined) ? '' : ( asc ? 'arrow-up' : 'arrow-down' ) }}"></span>
        </div>
    </template>

    <script>

        Polymer('tt-sortcolumn', {

            asc: undefined,
            created: function () {
            },

            sort: function () {
                this.asc = !this.asc;
            },
            unsort: function () {
                this.asc = undefined;
            },
            ascChanged: function () {
                var sortOrder = (this.asc === undefined) ? null : ( this.asc ? 'asc' : 'desc' );
               // console.log("column order", this.column, ":", sortOrder);
                this.fire('change', {
                    'order': sortOrder,
                    'column': this.column
                });
            }


        });
    </script>

</polymer-element>