<link rel="import" href="../../components/paper-input/paper-input.html">


<polymer-element name="tt-group-aggs" attributes="aggs">

   <template>
       <style>
           .filter-value {
               text-transform: capitalize;
           }

       </style>

       <div>


           <template repeat="{{filterName in aggs| enumerate}}">
               <h2>{{filterName.name| filterLabelMapper}}</h2>

               <ul>
               <template repeat="{{ filter in filterName.buckets }}">
                   <li class="filter-value">{{filter.key}} ({{filter.doc_count}})</li>
               </template>
               </ul>
           </template>
           </ul>

       </div>


   </template>

    <script>
        Polymer('tt-group-aggs', {

            created: function () {
                this.filterLabel = {
                    firstname : 'Pr√©nom'
                };
            },
            filterLabelMapper: function (filterName) {
                var label = filterName;
                if (this.filterLabel[filterName]) {
                    label = this.filterLabel[filterName];
                }
                return label;
            },
            enumerate : function (obj) {
                var  agg  = [];
                for (var key in obj) {
                    var line = obj[key];
                    line.name = key;
                    // Push Line
                    agg.push(line);
                }
                return agg;
            }


        });
    </script>
</polymer-element>