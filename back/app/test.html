<!DOCTYPE html>
<html>

<head lang="en">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>

  <meta name="Cache-Control" content="private, must-revalidate"/>

  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-touch-fullscreen" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style"
        content="black-translucent">
  <meta name="format-detection" content="telephone=no">


  <meta name="application-name" content="Admin App">
  <title>Admin App</title>

  <script src="components/webcomponentsjs/webcomponents.js"></script>


</head>
<body>
<link rel="import" href="components/polymer/polymer.html">

<link rel="import" href="components/paper-button/paper-button.html">
<link rel="import" href="components/core-input/core-input.html">
<link rel="import" href="components/paper-input/paper-input-decorator.html">

<polymer-element name="bug-inputtext-decorator">

  <template>

    <div layout vertical>
      <paper-button on-tap="{{validate}}">
        <span>Validate</span>
      </paper-button>
      <paper-input-decorator id="emailValidator" floatingLabel label="Email" autoValidate>
        <input is="core-input" id="input2" value="{{ data.email}}" type="email" required>
      </paper-input-decorator>

      <paper-button on-tap="{{bug1}}">
        <span>Bug 1: Backend event don't change invalid status</span>
      </paper-button>
      <paper-button on-tap="{{bug2}}">
        <span>Bug 2: Bad email don't display error text from input</span>
      </paper-button>

    </div>
  </template>
  <script>
    Polymer('bug-inputtext-decorator', {
      data: {email: undefined},

      bug1: function () {
        this.data.email = 'toto@toto.com'
      },
      bug2: function () {
        this.data.email = 'toto'
      },
      validate: function () {
        this.$.emailValidator.validate();
      }


    });
  </script>
</polymer-element>

<bug-inputtext-decorator></bug-inputtext-decorator>

</body>
</html>
