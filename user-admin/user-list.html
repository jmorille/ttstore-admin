<link rel="import" href="../components/core-list/core-list.html">
<link rel="import" href="../user-admin/user-service.html">


<polymer-element name="user-list" attributes="">
    <style>
        core-list {
            width: 80%;
        }


        .item {
            box-sizing: border-box;
            height: 80px;
            border-bottom: 1px solid #ddd;
            padding: 4px;
            cursor: default;
            background-color: white;
            overflow: hidden;
        }

        .selected {
            background: silver;
        }


    </style>

    <template>
        <user-service response="{{data}}"></user-service>

        <core-list id="list" data="{{data}}"  on-core-activate="{{itemSelected}}">
            <template>
                <div class="item">
                    <span class="from">{{name}}</span>
                    <span class="timestamp">{{time}}</span>
                </div>
            </template>
        </core-list>


    </template>
    <script>

        Polymer('user-list', {

            // Bad
            data : [],

            ready: function () {
              // Good  this.data =  [];
            },
            itemSelected : function(event) {
                var itemSelected = event.detail.data;
                console.dir(itemSelected);
                // fire(inType, inDetail, inToNode)
                this.fire('select-item', { item: itemSelected });
            }

        });

    </script>


</polymer-element>